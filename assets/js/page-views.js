!function(){"use strict";function t(){return(new Date).toISOString().split("T")[0]}function n(){return{total:0,lastDate:null,today:0}}function e(){const t=localStorage.getItem("pageViewsData");return t?JSON.parse(t):n()}function a(t){localStorage.setItem("pageViewsData",JSON.stringify(t))}async function o(){if(!y.jsonbinBinId)return null;try{const t=`https://api.jsonbin.io/v3/b/${y.jsonbinBinId}/latest`,e={"Content-Type":"application/json"};y.jsonbinApiKey&&(e["X-Master-Key"]=y.jsonbinApiKey);const a=await fetch(t,{method:"GET",headers:e});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return(await a.json()).record||n()}catch(t){return null}}async function i(t){if(!y.jsonbinBinId)return!1;try{const n=`https://api.jsonbin.io/v3/b/${y.jsonbinBinId}`,e={"Content-Type":"application/json"};y.jsonbinApiKey?e["X-Master-Key"]=y.jsonbinApiKey:e["X-Bin-Versioning"]="false";const a=await fetch(n,{method:"PUT",headers:e,body:JSON.stringify(t)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return!0}catch(t){return!1}}async function s(){if(y.apiEnabled&&"jsonbin"===y.service){const t=await o();return t?(a(t),t):e()}return e()}async function r(t){a(t),y.apiEnabled&&"jsonbin"===y.service&&await i(t)}async function c(){const n=await s(),e=t();n.lastDate!==e&&(n.today=0,n.lastDate=e),n.total+=1,n.today+=1,await r(n),u(n)}function u(t){const n=document.getElementById("total-views"),e=document.getElementById("today-views");n&&(n.textContent=d(t.total)),e&&(e.textContent=d(t.today))}function d(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}async function l(){const n=await s(),e=t();n.lastDate!==e&&(n.today=0,n.lastDate=e,await r(n)),u(n),setTimeout(async()=>{await c()},500)}const y=window.pageViewsConfig||{apiEnabled:!1,service:"local",jsonbinBinId:"",jsonbinApiKey:""};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();